{
  "name": "collab-intelligence",
  "displayName": "Collab Intelligence",
  "description": "Observability dashboard for the Collaborative Intelligence System — view knowledge graph, quality findings, and task status",
  "version": "0.1.0",
  "publisher": "collab-intelligence",
  "engines": {
    "vscode": "^1.95.0"
  },
  "categories": ["Other"],
  "activationEvents": [
    "onStartupFinished"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "commands": [
      {
        "command": "collab.refreshMemory",
        "title": "Refresh Memory Browser",
        "category": "Collab Intelligence",
        "icon": "$(refresh)"
      },
      {
        "command": "collab.refreshFindings",
        "title": "Refresh Findings Panel",
        "category": "Collab Intelligence",
        "icon": "$(refresh)"
      },
      {
        "command": "collab.refreshTasks",
        "title": "Refresh Tasks Panel",
        "category": "Collab Intelligence",
        "icon": "$(refresh)"
      },
      {
        "command": "collab.searchMemory",
        "title": "Search Memory",
        "category": "Collab Intelligence",
        "icon": "$(search)"
      },
      {
        "command": "collab.viewDashboard",
        "title": "View Dashboard",
        "category": "Collab Intelligence",
        "icon": "$(dashboard)"
      },
      {
        "command": "collab.validateAll",
        "title": "Validate All Quality Gates",
        "category": "Collab Intelligence",
        "icon": "$(check-all)"
      },
      {
        "command": "collab.connectMcpServers",
        "title": "Connect to MCP Servers",
        "category": "Collab Intelligence",
        "icon": "$(plug)"
      },
      {
        "command": "collab.openSetupWizard",
        "title": "Open Setup Wizard",
        "category": "Collab Intelligence",
        "icon": "$(lightbulb)"
      },
      {
        "command": "collab.openWalkthrough",
        "title": "Getting Started",
        "category": "Collab Intelligence",
        "icon": "$(question)"
      },
      {
        "command": "collab.openWorkflowTutorial",
        "title": "Open Workflow Tutorial",
        "category": "Collab Intelligence",
        "icon": "$(mortar-board)"
      },
      {
        "command": "collab.runResearch",
        "title": "Run Research Prompt",
        "category": "Collab Intelligence"
      },
      {
        "command": "collab.createTaskBrief",
        "title": "Create Task Brief",
        "category": "Collab Intelligence",
        "icon": "$(new-file)"
      },
      {
        "command": "collab.toggleDemo",
        "title": "Toggle Demo Mode",
        "category": "Collab Intelligence",
        "icon": "$(beaker)"
      }
    ],
    "viewsContainers": {
      "activitybar": [
        {
          "id": "collab-intelligence",
          "title": "Collab Intelligence",
          "icon": "media/icons/collab.svg"
        }
      ]
    },
    "views": {
      "collab-intelligence": [
        {
          "id": "collab.actions",
          "name": "Actions",
          "type": "tree"
        },
        {
          "id": "collab.memory",
          "name": "Memory Browser"
        },
        {
          "id": "collab.findings",
          "name": "Findings"
        },
        {
          "id": "collab.tasks",
          "name": "Tasks"
        }
      ]
    },
    "viewsWelcome": [
      {
        "view": "collab.actions",
        "contents": "$(dashboard) [Open Dashboard](command:collab.viewDashboard)\n\n$(plug) [Connect to Servers](command:collab.connectMcpServers)\n\n$(lightbulb) [Setup Wizard](command:collab.openSetupWizard)\n\n$(mortar-board) [Workflow Tutorial](command:collab.openWorkflowTutorial)\n\n$(beaker) [Toggle Demo](command:collab.toggleDemo)"
      }
    ],
    "menus": {
      "view/title": [
        {
          "command": "collab.refreshMemory",
          "when": "view == collab.memory",
          "group": "navigation"
        },
        {
          "command": "collab.searchMemory",
          "when": "view == collab.memory",
          "group": "navigation"
        },
        {
          "command": "collab.refreshFindings",
          "when": "view == collab.findings",
          "group": "navigation"
        },
        {
          "command": "collab.refreshTasks",
          "when": "view == collab.tasks",
          "group": "navigation"
        }
      ]
    },
    "walkthroughs": [
      {
        "id": "avt-getting-started",
        "title": "Get Started with Collab Intelligence",
        "description": "Learn how the Collaborative Intelligence System helps you build software with AI agents.",
        "steps": [
          {
            "id": "welcome-overview",
            "title": "Welcome to AVT",
            "description": "The **Collaborative Intelligence System** coordinates specialized AI agents to help you develop software.\n\nIt provides:\n- **Institutional Memory** via a persistent Knowledge Graph\n- **Quality Enforcement** through deterministic quality gates\n- **Governance** ensuring agent decisions align with your project standards\n\nYour project's principles are protected by a three-tier hierarchy. Agents query this context before every decision.\n\n[Open the Dashboard](command:collab.viewDashboard)",
            "media": {
              "markdown": "media/walkthrough/01-welcome.md"
            }
          },
          {
            "id": "three-tier-hierarchy",
            "title": "The Three-Tier Hierarchy",
            "description": "The system maintains a protection hierarchy:\n\n**Vision (Tier 1)** — Core principles and invariants. Only humans can modify these.\n\n**Architecture (Tier 2)** — Patterns, components, and design decisions. Modifiable with orchestrator approval.\n\n**Quality (Tier 3)** — Observations, findings, and troubleshooting notes. Any agent can create these.\n\nLower tiers cannot override higher tiers. A quality finding can never contradict a vision standard.",
            "media": {
              "markdown": "media/walkthrough/02-three-tiers.md"
            }
          },
          {
            "id": "agent-team",
            "title": "Your Agent Team",
            "description": "Seven specialized agents collaborate on your project:\n\n- **Orchestrator** — Decomposes tasks and coordinates agents\n- **Worker** — Implements scoped tasks from task briefs\n- **Quality Reviewer** — Reviews diffs for standard violations\n- **KG Librarian** — Curates the Knowledge Graph\n- **Governance Reviewer** — Checks decisions against standards\n- **Researcher** — Investigates technologies and monitors dependencies\n- **Project Steward** — Maintains naming, organization, and hygiene\n\n[See agents in the Dashboard](command:collab.viewDashboard)",
            "media": {
              "markdown": "media/walkthrough/03-agents.md"
            }
          },
          {
            "id": "work-cycle",
            "title": "How Work Gets Done",
            "description": "The development cycle follows a governed flow:\n\n1. **Decompose** — Break complex tasks into discrete units\n2. **Create Governed Tasks** — Each task is paired with a rapid governance review\n3. **Review** — Governance reviewer checks against vision and architecture\n4. **Implement** — Worker agents execute approved tasks\n5. **Quality Gates** — Build, lint, test, coverage, and findings checks\n6. **Merge** — Approved work is merged with checkpoints\n\nEvery task is **governed from creation** with rapid automated review before work begins.",
            "media": {
              "markdown": "media/walkthrough/04-work-cycle.md"
            }
          },
          {
            "id": "knowledge-graph",
            "title": "Institutional Memory",
            "description": "The Knowledge Graph is your project's persistent memory:\n\n- **Vision standards** are ingested from `docs/vision/` and become immutable\n- **Architecture patterns** are ingested from `docs/architecture/`\n- **Observations** accumulate as agents work — problems, solutions, decisions\n- **The KG Librarian** curates entries, promotes patterns, removes stale data\n\nAgents query the KG before starting work to understand context and constraints.\n\n[Browse the Knowledge Graph](command:collab.searchMemory)",
            "media": {
              "markdown": "media/walkthrough/05-knowledge-graph.md"
            }
          },
          {
            "id": "setup-project",
            "title": "Set Up Your Project",
            "description": "Ready to configure your project? The **Setup Wizard** will guide you through:\n\n- Creating vision and architecture documents\n- Configuring quality commands (test, lint, build)\n- Setting up project rules and permissions\n- Ingesting documents into the Knowledge Graph\n\nYou can re-run the wizard anytime from the sidebar toolbar or the dashboard.\n\n[Run the Setup Wizard](command:collab.openSetupWizard)",
            "completionEvents": [
              "onCommand:collab.openSetupWizard"
            ],
            "media": {
              "markdown": "media/walkthrough/06-setup.md"
            }
          }
        ]
      }
    ]
  },
  "scripts": {
    "build:webview": "cd webview-dashboard && npm run build",
    "build": "npm run build:webview && node esbuild.config.js",
    "watch": "node esbuild.config.js --watch",
    "lint": "eslint src --ext ts",
    "pretest": "npm run build",
    "test": "node ./out/test/runTest.js",
    "test:coverage": "c8 --check-coverage --lines 80 --reporter=text --reporter=lcov node ./out/test/runTest.js"
  },
  "devDependencies": {
    "@types/mocha": "^10.0.0",
    "@types/node": "^22.0.0",
    "@types/vscode": "^1.95.0",
    "@typescript-eslint/eslint-plugin": "^8.0.0",
    "@typescript-eslint/parser": "^8.0.0",
    "@vscode/test-electron": "^2.4.0",
    "c8": "^10.0.0",
    "esbuild": "^0.24.0",
    "eslint": "^8.57.0",
    "glob": "^11.0.0",
    "mocha": "^10.0.0",
    "typescript": "^5.7.0"
  }
}
